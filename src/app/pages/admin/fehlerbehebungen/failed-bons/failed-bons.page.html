<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-menu-button slot="start"></ion-menu-button>
        <ion-title>Bons</ion-title>
        <ion-buttons slot="end">
            <ion-button>
                <ion-icon name="checkbox-outline" slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button>
                <ion-icon name="print-outline" slot="start"></ion-icon>
                Auswahl drucken
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">failed-bons</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-list lines="full">
        <ion-accordion-group>
            <ion-accordion value="first">
                <ion-item slot="header">
                    <ion-checkbox></ion-checkbox>
                    <ion-label>
                        Bon Nr. 1232
                    </ion-label>
                    <ion-chip color="primary">
                        <ion-icon name="print"></ion-icon>
                        <span>3 Druckversuche</span>
                    </ion-chip>
                    <ion-chip color="success">
                        <ion-icon name="checkmark-circle"></ion-icon>
                        <span>1</span>
                    </ion-chip>
                    <ion-chip color="danger">
                        <ion-icon name="alert-circle"></ion-icon>
                        <span>2</span>
                    </ion-chip>
                </ion-item>
                <div slot="content">
                    <ion-item-divider>Bestellung</ion-item-divider>
                    <ion-item>
                        <ion-icon slot="start" name="print"></ion-icon>
                        <ion-label>
                            <h3>Hendlh√ºtte I</h3>
                            <p>Drucker</p>
                        </ion-label>
                        <ion-chip color="primary">
                            <ion-icon name="globe"></ion-icon>
                            <span>192.168.0.123</span>
                        </ion-chip>
                    </ion-item>
                    <ion-item>
                        <ion-icon slot="start" name="person-circle"></ion-icon>
                        <ion-label>
                            <h3>Jakob Vesely</h3>
                            <p>Aufnehmer</p>
                        </ion-label>
                    </ion-item>
                    <ion-item-divider>Drucke</ion-item-divider>
                    <ion-item>
                        <ion-icon slot="start" name="checkmark-circle" color="success"></ion-icon>
                        <ion-label>
                            <h3>Erfolgreich</h3>
                            <p>15.08.2024 um 13:13:22 Uhr</p>
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-icon slot="start" name="alert-circle" color="danger"></ion-icon>
                        <ion-label>
                            <h3>Cannot initialise NetworkPrintConnector: Operation timed out</h3>
                            <p>15.08.2024 um 13:13:22 Uhr</p>
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-icon slot="start" name="alert-circle" color="danger"></ion-icon>
                        <ion-label>
                            <h3>Cannot initialise NetworkPrintConnector: Operation timed out</h3>
                            <p>15.08.2024 um 13:13:22 Uhr</p>
                        </ion-label>
                    </ion-item>
                </div>
            </ion-accordion>
        </ion-accordion-group>
    </ion-list>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <form [formGroup]="filter" (ngSubmit)="searchBons()">
            <ion-list lines="full">
                <ion-item color="light">
                    <ion-icon slot="start" name="alert-circle"></ion-icon>
                    <ion-label>Druck fehlgeschlagen</ion-label>
                    <ion-toggle formControlName="failed"></ion-toggle>
                </ion-item>
                <ion-item color="light">
                    <ion-icon slot="start" name="checkmark-circle"></ion-icon>
                    <ion-label>Erfolgreich gedruckt</ion-label>
                    <ion-toggle formControlName="succeeded"></ion-toggle>
                </ion-item>
                <ion-item color="light">
                    <ion-icon slot="start" name="print-outline"></ion-icon>
                    <ion-label>Drucker</ion-label>
                    <ion-select interface="action-sheet" formControlName="druckerId">
                        <ion-select-option [value]="null">Alle</ion-select-option>
                        @for (drucker of availableFilter.drucker(); track drucker.id) {
                        <ion-select-option [value]="drucker.id">{{ drucker.name }}</ion-select-option>
                        }
                    </ion-select>
                </ion-item>
                <ion-item color="light">
                    <ion-icon slot="start" name="navigate-circle-outline"></ion-icon>
                    <ion-label>Tisch</ion-label>
                    <ion-select interface="action-sheet" formControlName="tischId">
                        <ion-select-option [value]="null">Alle</ion-select-option>
                        @for (tisch of availableFilter.tische(); track tisch.id) {
                        <ion-select-option [value]="tisch.id">{{ tisch.reihe }} {{ tisch.nummer }}</ion-select-option>
                        }
                    </ion-select>
                </ion-item>
                <ion-item color="light">
                    <ion-icon slot="start" name="timer-outline"></ion-icon>
                    <ion-label>Letzte Bestellungen</ion-label>
                    <ion-select interface="action-sheet" placeholder="Letzte Bestellungen" formControlName="limit">>
                        @for (limit of availableFilter.limits; track limit) {
                        <ion-select-option [value]="limit">{{ limit }}</ion-select-option>
                        }
                    </ion-select>
                </ion-item>
                <ion-item class="search-button ion-text-center ion-activatable ripple-parent" (click)="searchBons()" lines="none" color="primary">
                    <ion-label>
                        <ion-icon name="search-outline"></ion-icon>
                        Suchen
                    </ion-label>
                    <ion-ripple-effect></ion-ripple-effect>
                </ion-item>
            </ion-list>
        </form>
    </ion-toolbar>
</ion-footer>
